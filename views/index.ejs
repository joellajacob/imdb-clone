<!DOCTYPE html>
<html lang="en">
<%- include("./partials/common/head.ejs") %>
<body class="bg-imdb-darker-gray min-h-screen">
    <%- include("./partials/common/navbar.ejs") %>
    <main class="max-w-6xl mx-auto pt-24 px-4">
        <!-- Section Header -->
        <div class="flex-container-between-center bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl border border-gray-700 p-6 mb-8 shadow-2xl">
            <div class="flex items-center space-x-4">
                <div class="w-1 h-12 bg-imdb-yellow rounded-full shadow-lg"></div>
                <h2 class="section-title container-title">Popular Movies</h2>
            </div>
            
            <button class="filter-btn flex items-center gap-2 bg-imdb-yellow hover:bg-yellow-400 text-black btn">
                <span>Filters</span>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z" />
                </svg>
            </button>
        </div>
        <!-- <%- include("./partials/homepage/filterPanel.ejs") %> -->
        <!-- <%- include("./partials/homepage/filterItemTemplate.ejs") %> -->
        <%- include("./partials/homepage/serverError.ejs") %>
        <!-- Display Section -->
        <div class="display-container">
            <%- include("./partials/homepage/emptyResult.ejs") %>
             <!-- Movie Grid -->
            <div class="movie-grid">
                <% movies.forEach((movie)=>{ %>
                    <%- include("./partials/homepage/movieCard.ejs",{movie:movie, baseImgURL:baseImgURL}) %>
                <% }) %>
            </div>
        </div> 
        <%- include("./partials/homepage/movieCardTemplate.ejs") %>
    </main>  
    <!-- axios cdn -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
    <!-- caching data -->
    <script type="application/json" id="initial-popular-movie-data">
        <%- JSON.stringify({data: movies, baseImgURL: baseImgURL}) %>
    </script>
    <script type="module" src = "/js/genreFilter.js"></script>
    <script type="module" src="/js/new/index.js"></script>
    <!-- <script type="module" src="/js/search.js"></script> -->
</body>
</html>